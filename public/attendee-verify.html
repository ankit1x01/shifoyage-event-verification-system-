<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Premium Entry Pass ‚Äî Ultra</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/qrcode-generator@1.4.4/qrcode.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&family=Bebas+Neue&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root{
      --magenta:#FF1FB6; --bronze:#AF844B; --charcoal:#0F0F10; --ink:#121212;
      --vip:#FFD166; --gen:#A0AEC0; --neon-pink:#FF00FF; --neon-cyan:#00FFFF;
      --neon-green:#39FF14; --purple:#8A2BE2;
    }
    *{font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial,sans-serif}
    html,body{height:100%}

    body{
      min-height:100vh; padding:18px;
      background:
        radial-gradient(1200px 600px at 20% 20%, #3b0764 0%, transparent 55%),
        radial-gradient(900px 550px at 80% 80%, #0b132b 0%, transparent 60%),
        linear-gradient(135deg,#0f172a 0%,#1e1b4b 30%,#312e81 60%,#581c87 85%,#7c2d92 100%);
      position: relative;
      overflow-x: hidden;
      overflow-y: auto;
      -webkit-tap-highlight-color: transparent;
    }

    /* Floating particles + soft scanlines for depth */
    .particles, .scanlines {
      position: fixed; inset:0; pointer-events:none; z-index: -1;
    }
    .particle {
      position: absolute; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--neon-cyan), var(--neon-pink));
      animation: float 8s ease-in-out infinite; opacity: 0.08; filter: blur(0.2px);
    }
    .scanlines{
      background: repeating-linear-gradient( to bottom, rgba(255,255,255,.02), rgba(255,255,255,.02) 1px, transparent 2px, transparent 4px);
      mix-blend-mode: soft-light;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0) translateX(0) rotate(0deg); }
      25% { transform: translateY(-24px) translateX(10px) rotate(90deg); }
      50% { transform: translateY(0) translateX(-10px) rotate(180deg); }
      75% { transform: translateY(-12px) translateX(6px) rotate(270deg); }
    }

    /* --- PASS --- */
    .pass-wrap{
      width:min(1160px, 100%);
      max-width: calc(100vw - 36px);
      margin: 0 auto;
      perspective: 1400px;
    }
    .pass{
      position:relative; border-radius:26px; overflow:hidden;
      background:linear-gradient(135deg,#161616 0%,#232323 50%,#141414 100%);
      box-shadow:
        0 40px 100px rgba(0,0,0,.55),
        inset 0 0 0 1px rgba(255,255,255,.06),
        0 0 50px rgba(255,31,182,.25);
      isolation:isolate; transform-style:preserve-3d;
      transition:transform .6s cubic-bezier(.2,.8,.2,1), box-shadow .6s;
      animation: passGlow 4s ease-in-out infinite alternate;
    }
    .pass:hover{ transform: rotateX(2deg) rotateY(-3deg); }
    @keyframes passGlow {
      0% { box-shadow: 0 40px 100px rgba(0,0,0,.55), inset 0 0 0 1px rgba(255,255,255,.06), 0 0 28px rgba(255,31,182,.16); }
      100% { box-shadow: 0 40px 100px rgba(0,0,0,.6), inset 0 0 0 1px rgba(255,255,255,.08), 0 0 68px rgba(255,31,182,.38); }
    }

    /* Animated neon border (mask trick) */
    .pass::after{
      content:""; position:absolute; inset:0; border-radius:26px; padding:2px;
      background: conic-gradient(from var(--a,0deg),
        #ff93d6, #ffe27a, #97f7ff, #b9a5ff, #ff93d6);
      -webkit-mask:
        linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      animation: ring 8s linear infinite;
      pointer-events:none; opacity:.7;
    }
    @keyframes ring{ to{ --a:360deg } }

    /* Aurora + noise inside */
    .pass::before{
      content:""; position:absolute; inset:-1px; z-index:0; pointer-events:none; border-radius:inherit;
      background:
        radial-gradient(900px 600px at 40% 60%, color-mix(in oklab, var(--magenta) 16%, transparent) 0%, transparent 65%),
        radial-gradient(700px 500px at 78% 22%, color-mix(in oklab, var(--bronze) 18%, transparent) 0%, transparent 70%),
        url("data:image/svg+xml,%3Csvg viewBox='0 0 400 400' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.8' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.045'/%3E%3C/svg%3E");
      background-size:180% 180%;
      animation:aurora 12s ease-in-out infinite;
    }
    @keyframes aurora{0%{background-position:0 50%}50%{background-position:100% 50%}100%{background-position:0 50%}}

    .grid3{ position:relative; z-index:1; display:grid; grid-template-columns:25% 1fr 30%; min-height: 380px }

    /* Perforation with micro holes */
    .perforate{ position:absolute; left:25%; top:0; bottom:0; width:14px; z-index:3; pointer-events:none; }
    .perforate::before{
      content:""; position:absolute; inset:0;
      background:
        radial-gradient(circle, rgba(255,255,255,.9) 2px, transparent 3px) left/14px 18px repeat-y;
      opacity:.25;
    }

    /* LEFT STUB (glass + ribbon) */
    .stub{
      position:relative; padding:26px 18px; border-right:3px dashed rgba(255,255,255,.35);
      background: linear-gradient(160deg, rgba(175,132,75,.28), rgba(20,20,20,.85) 35%, rgba(20,20,20,.95));
      backdrop-filter: blur(5px);
      box-shadow: inset -10px 0 20px rgba(0,0,0,.35);
      display:flex; flex-direction:column; justify-content:space-between; border-radius:24px 0 0 24px;
    }
    .stub::after{
      content:"VALID ‚Ä¢ ENTRY ‚Ä¢ PASS ‚Ä¢ "; position:absolute; inset:auto 12px 12px 12px; height:24px;
      color:rgba(255,255,255,.7); font:700 10px/24px "IBM Plex Mono"; letter-spacing:2px;
      text-transform:uppercase; white-space:nowrap; overflow:hidden;
      mask: linear-gradient(90deg, transparent, #000 18%, #000 82%, transparent);
      animation: ticker 12s linear infinite;
    }
    @keyframes ticker{ to{ transform: translateX(-50%) } }

    .vertical{
      writing-mode:vertical-rl; text-orientation:mixed; letter-spacing:1px;
      font:800 10px/1 Inter; color:#fff; text-shadow:0 1px 0 rgba(0,0,0,.4);
    }
    .qr-wrap{display:flex; flex-direction:column; align-items:center; gap:10px; justify-content:center;}
    .qr-label{ font-family:"IBM Plex Mono",monospace; font-weight:700; font-size:11px; letter-spacing:.9px; color:#fff; text-transform:uppercase }

    /* QR jewel spotlight */
    .qr-frame{
      width:208px; height:208px; position:relative; display:grid; place-items:center; border-radius:18px;
      background: radial-gradient(120px 120px at 50% 35%, rgba(255,31,182,.18), rgba(0,0,0,0) 60%),
                  #0b0b0c;
      outline:4px solid #1b1b1d;
      box-shadow:
        0 14px 30px rgba(0,0,0,.45),
        0 0 0 1px rgba(255,255,255,.06) inset,
        0 0 30px rgba(255,31,182,.35);
      transition: transform .25s;
      animation: qrPulse 3.2s ease-in-out infinite;
      overflow: hidden;
    }
    .qr-frame::before{
      content:""; position:absolute; inset:-40% -40% auto -40%; height:48%;
      background: linear-gradient( to right, transparent, rgba(255,255,255,.18), transparent );
      transform: rotate(20deg); filter: blur(8px); animation: shine 5s linear infinite;
      pointer-events:none;
    }
    @keyframes shine{ 0%{ transform: translateX(-120%) rotate(20deg) } 100%{ transform: translateX(120%) rotate(20deg) } }
    .qr-frame:hover{ transform: translateY(-2px) }
    @keyframes qrPulse {
      0%, 100% { box-shadow:0 14px 30px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.06) inset, 0 0 18px rgba(255,31,182,.22); }
      50% { box-shadow:0 14px 30px rgba(0,0,0,.45), 0 0 0 1px rgba(255,255,255,.06) inset, 0 0 34px rgba(255,31,182,.45); }
    }
    .qr-frame svg{ width:186px; height:186px; shape-rendering:crispEdges; image-rendering:pixelated; border-radius:12px; background:#fff }

    .ticket-meta{ text-align:center; color:rgba(255,255,255,.95); font-family:"IBM Plex Mono",monospace; font-size:11px }
    .ticket-meta .muted{ opacity:.75; font-size:10px }
    .stub-msg{ font-size:10px; color:rgba(255,255,255,.9); text-align:center; line-height:1.35 }
    .mobile-poster{ display: none; }
    .mobile-banner{ display: none; }

    /* CENTER PANEL */
    .center{
      position:relative; padding:36px 30px; background:linear-gradient(135deg,#232323,#191919 50%,#242424);
      border-inline:1px solid rgba(255,255,255,.12); display:flex; flex-direction:column; justify-content:space-between;
    }
    .center::before{
      content:"ENTRY PASS"; position:absolute; top:12px; right:16px; z-index:2;
      font:800 10px/1 "IBM Plex Mono",monospace; letter-spacing:1px; color:color-mix(in oklab, var(--bronze) 75%, #fff);
    }
    .guilloche{
      position:absolute; inset:12% 8% 14% 8%; z-index:0; opacity:.16; filter:contrast(120%) saturate(110%);
      background: url('data:image/svg+xml;utf8,\
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 600 300">\
      <g fill="none" stroke="%23ffffff" stroke-opacity="0.55" stroke-width="0.6">\
      <path d="M0,150 Q150,0 300,150 T600,150" /><path d="M0,160 Q150,10 300,160 T600,160" /><path d="M0,140 Q150,-10 300,140 T600,140" />\
      </g></svg>') center/cover no-repeat;
    }
    .brandline{ display:flex; justify-content:space-between; color:#fff; letter-spacing:.8px; text-transform:uppercase; font-weight:800; font-size:12px; z-index:1 }
    .headline{ text-align:center; letter-spacing:1px; margin:14px 0 12px; z-index:1; display:flex; justify-content:center; align-items:center; gap:6px; flex-wrap: wrap; }
    .simple-title{
      font-size: clamp(40px, 5.6vw, 56px);
      font-weight: 900; text-transform: uppercase;
      background: linear-gradient(90deg, var(--magenta), #fff);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-shadow: 3px 3px 6px rgba(0,0,0,1), 0 0 22px rgba(255,31,182,0.7);
      font-family: "Bebas Neue", Arial, sans-serif;
      animation: titleGlow 3s ease-in-out infinite alternate;
    }
    @keyframes titleGlow {
      0% { filter: drop-shadow(0 0 0px rgba(255,31,182,.0)) }
      100% { filter: drop-shadow(0 0 12px rgba(255,31,182,.55)) }
    }

    .sub{ color:rgba(255,255,255,.9); font-size:13px; margin-bottom:12px; z-index:1 }
    .kvs{ color:#fff; z-index:1; background:rgba(255,255,255,.03); border:1px solid rgba(255,255,255,.1); border-radius:14px; padding:16px }
    .chip{
      display:inline-flex; gap:8px; align-items:center; padding:6px 10px; border-radius:999px;
      background: linear-gradient(45deg, rgba(255,31,182,.15), rgba(175,132,75,.15));
      border:1px solid rgba(255,255,255,.18); font:700 10px/1 "IBM Plex Mono";
      letter-spacing:.8px; text-transform:uppercase;
    }
    .day{ font-size:11px; letter-spacing:1px; text-transform:uppercase; opacity:.9 }
    .dnum{ font-size:24px; font-weight:900; margin:6px 0 10px; line-height: 1.1; }
    .venue{ display:flex; align-items:center; gap:8px; font-size:12px; margin-top:10px; }
    .pin{ width:14px; height:14px; opacity:.9 }

    /* RIGHT POSTER */
    .poster{ position:relative; border-left:1px solid rgba(255,255,255,.12); border-radius:0 24px 24px 0; overflow:hidden }
    .poster .img{ position:absolute; inset:0; background-size:cover; background-position:center; opacity:.98; transform: scale(1.03); }
    .poster .img::after{
      content:""; position:absolute; inset:0;
      background: linear-gradient( to bottom, rgba(255,255,255,.15), rgba(0,0,0,.2) 18%, transparent 38%, rgba(0,0,0,.55) 100% );
      mix-blend-mode: overlay; pointer-events:none;
    }
    .poster .veil{ position:absolute; inset:0; pointer-events:none; z-index: 2;
      background:
        linear-gradient(60deg, rgba(175,132,75,.12) 0%, transparent 55%),
        radial-gradient(600px 400px at 70% 30%, rgba(175,132,75,.05) 0%, transparent 60%);
    }
    .poster .content{ position:relative; height:100%; padding:22px; display:flex; flex-direction:column; justify-content:space-between }
    .brand-corner{ align-self:flex-end; font-size:10px; color:rgba(255,255,255,.98); font-weight:900; letter-spacing:1px; text-transform:uppercase }
    .ptitle{text-align:center}
    .p-swar{ color:#fff; font-style:italic; font-size:18px; margin-bottom:-6px; text-shadow:0 0 10px rgba(255,255,255,.35) }
    .p-safar{ font-family:"Bebas Neue"; color:var(--magenta); font-size:44px; font-weight:900; line-height:.8; letter-spacing:2px;
      text-shadow:0 0 26px color-mix(in oklab, var(--magenta) 55%, transparent), 2px 2px 6px rgba(0,0,0,.9) }
    .p-jam{ color:#fff; font-style:italic; font-size:16px; margin-left:8px; text-shadow:0 0 12px rgba(255,255,255,.4) }

    /* HOLOGRAM ‚Äî crisper, shinier */
    .holo{
      position:absolute; top:14px; right:14px; width:70px; height:70px; z-index:3;
      border-radius:50%;
      background:
        conic-gradient(from 0deg, #ff93d6, #ffe27a, #97f7ff, #b9a5ff, #ff93d6);
      box-shadow:0 8px 20px rgba(0,0,0,.35), inset 0 0 12px rgba(255,255,255,.35), 0 0 25px rgba(255,31,182,.6);
      animation:spin 6s linear infinite, holoPulse 2s ease-in-out infinite;
      display:grid; place-items:center; color:#111; font:900 10px/1 Inter; text-transform:uppercase;
      -webkit-mask:radial-gradient(circle at 50% 50%, #000 58%, transparent 60%);
      transition: transform .3s ease;
    }
    .holo:hover { transform: scale(1.08) }
    .holo::before{
      content:""; position:absolute; inset:6px; border-radius:999px;
      background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.85), rgba(255,255,255,.75) 35%, rgba(255,255,255,.15) 75%, transparent);
      mix-blend-mode: soft-light;
    }
    .holo::after{
      content:attr(data-tier);
      position:absolute; inset:8px; border-radius:999px; display:grid; place-items:center;
      background:rgba(255,255,255,.9); letter-spacing:.8px;
      text-shadow: 0 1px 0 rgba(0,0,0,.15);
    }
    @keyframes holoPulse { 0%, 100% { box-shadow:0 8px 20px rgba(0,0,0,.35), inset 0 0 12px rgba(255,255,255,.35), 0 0 20px rgba(255,31,182,.4);} 50% { box-shadow:0 10px 25px rgba(0,0,0,.45), inset 0 0 15px rgba(255,255,255,.45), 0 0 35px rgba(255,31,182,.8);} }
    @keyframes spin{to{transform:rotate(360deg)}}

    /* Confetti (kept subtle) */
    .confetti { position: fixed; width: 10px; height: 10px; background: #f0f; animation: confetti-fall 3s linear infinite; z-index: 1000; pointer-events: none; }
    @keyframes confetti-fall { 0% { transform: translateY(-100vh) rotate(0deg); opacity: 1;} 100% { transform: translateY(100vh) rotate(360deg); opacity: 0;} }

    /* Success blip */
    .pass.verified { animation: passGlow 4s ease-in-out infinite alternate, successPulse 0.6s ease-out; }
    @keyframes successPulse { 0% { transform: none } 50% { transform: scale(1.02) } 100% { transform: none } }

    /* PRINT */
    @media print{
      body *{ visibility:hidden !important }
      #pass,#pass *{ visibility:visible !important }
      #pass{ position:fixed; inset:0; margin:auto; width:100%; max-width:none; background:#fff; padding:18px; box-sizing:border-box }
      .noprint{ display:none !important }
      .pass{ border:2px solid #d0d0d0; box-shadow:none; transform:none }
    }

    /* --- MOBILE FIRST FIXES (no clipping) --- */
    @media (max-width: 820px){
      body{ padding: 8px 8px 80px 8px; }
      .pass{ overflow: visible !important }
      .grid3{ display:flex; flex-direction:column; gap:0; width:100%; height:auto; }

      .mobile-banner{
        display:block; background: linear-gradient(45deg, rgba(255,31,182,0.9) 0%, rgba(175,132,75,0.9) 100%);
        padding: 14px 16px; border-radius: 12px; text-align:center; margin-bottom: 12px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); animation: bannerPulse 3s ease-in-out infinite;
      }
      .mobile-banner-text{ color:#fff; font-size:14px; font-weight:700; text-shadow:1px 1px 2px rgba(0,0,0,.5) }
      @keyframes bannerPulse { 0%,100%{ transform: none } 50%{ transform: scale(1.02) } }

      .perforate,.stub,.center,.poster{ border:0 }

      /* Sections */
      .mobile-event-header,.mobile-qr-section,.mobile-details-section{ display:block; width:100%; box-sizing:border-box }
      .mobile-event-header{
        background: linear-gradient(135deg, rgba(0,0,0,0.9) 0%, rgba(20,20,20,0.95) 50%, rgba(0,0,0,0.9) 100%);
        border-radius: 16px 16px 0 0; padding: 24px 18px 26px; text-align:center;
        border: 2px solid rgba(255,31,182,0.4); border-bottom:none; position:relative; overflow:visible;
      }
      .mobile-event-header::before{
        content: ''; position:absolute; top: 0; left: 0; right: 0; height: 3px;
        background: linear-gradient(90deg, transparent 0%, var(--magenta) 20%, var(--bronze) 50%, var(--magenta) 80%, transparent 100%);
        animation: shimmer 2s ease-in-out infinite;
      }
      @keyframes shimmer { 0%,100%{ opacity:.45 } 50%{ opacity:1 } }

      .mobile-brand{ font-size: 13px; color: rgba(255,255,255,0.85); text-transform:uppercase; letter-spacing:1px; margin-bottom:8px }
      .mobile-title{
        font-size: clamp(36px, 8vw, 48px); font-weight:900; text-transform:uppercase;
        background: linear-gradient(90deg, var(--magenta), #fff); -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        text-shadow: 3px 3px 6px rgba(0,0,0,1), 0 0 20px rgba(255,31,182,0.8); font-family:"Bebas Neue", Arial, sans-serif;
        margin-bottom: 6px;
      }
      .mobile-subtitle{ font-size: 16px; color: rgba(255,255,255,0.92); margin-bottom: 12px; font-style: italic }
      .mobile-poster-img{
        width: 140px; height: 180px; background-size: cover; background-position: center; border-radius: 12px; margin: 14px auto;
        box-shadow: 0 8px 20px rgba(0,0,0,0.3), 0 0 0 2px rgba(255,31,182,0.3);
      }

      .mobile-qr-section{
        background: linear-gradient(145deg, rgba(175,132,75,0.14) 0%, rgba(135,97,28,0.08) 48%, rgba(35,35,35,0.05) 100%);
        padding: 30px 16px; text-align:center; border: 2px solid rgba(255,31,182,0.4); border-top:none; border-bottom:none;
      }
      .mobile-qr-label{ font-size: 12px; color: rgba(255,255,255,0.9); font-weight:700; letter-spacing:1px; text-transform:uppercase }
      .mobile-qr-frame{ width: 230px; height: 230px; margin: 18px auto; display:grid; place-items:center; background:#0b0b0c; border:3px solid rgba(255,31,182,0.35); border-radius:16px; box-shadow: 0 8px 20px rgba(0,0,0,0.35) }
      .mobile-qr-frame svg{ width: 205px; height: 205px; background:#fff; border-radius:10px }
      .mobile-ticket-id{ font-size: 14px; color: #FF1FB6; font-weight: 800; margin-top: 16px; font-family: "IBM Plex Mono", monospace; }

      .mobile-actions{
        display:flex; justify-content:center; gap:10px; margin-top:14px; flex-wrap:wrap;
      }
      .btn{
        display:inline-flex; align-items:center; gap:8px; padding:10px 14px; border-radius:999px; border:1px solid rgba(255,255,255,.18);
        background: linear-gradient(45deg, rgba(255,255,255,.08), rgba(255,255,255,.02));
        color:#fff; font-weight:700; font-size:12px; letter-spacing:.4px; text-transform:uppercase;
      }

      .mobile-details-section{
        background: linear-gradient(135deg, rgba(42,42,42,0.92) 0%, rgba(26,26,26,0.96) 50%, rgba(39,39,39,0.92) 100%);
        border-radius: 0 0 16px 16px; padding: 26px 16px 40px; border: 2px solid rgba(255,31,182,0.4); border-top:none;
      }
      .mobile-date{ font-size: 30px; font-weight: 900; color: #FF1FB6; margin-bottom: 6px; }
      .mobile-day{ font-size: 13px; color: rgba(255,255,255,0.85); text-transform:uppercase; letter-spacing:1px; margin-bottom:16px }
      .mobile-venue{
        background: rgba(0,0,0,0.58); padding: 14px; border-radius: 12px; border: 2px solid rgba(255,31,182,0.28);
        display:flex; align-items:center; gap:12px; text-align:left; margin-top: 14px;
      }
      .mobile-venue svg{ width: 20px; height: 20px; color: #FF1FB6; flex-shrink:0; fill: currentColor; }
      .mobile-venue-text{ font-size: 14px; color: rgba(255,255,255,0.95); line-height: 1.35; font-weight: 500; }

      /* hide desktop-only */
      .stub,.center,.poster{ display:none }
    }

    @media (max-width: 480px){
      .mobile-qr-frame{ width:210px; height:210px }
      .mobile-qr-frame svg{ width:190px; height:190px }
    }
    @media (max-width: 360px){
      .mobile-qr-frame{ width:190px; height:190px }
      .mobile-qr-frame svg{ width:172px; height:172px }
    }
  </style>
</head>
<body>
  <!-- Background layers -->
  <div class="particles">
    <div class="particle" style="width: 4px; height: 4px; top: 20%; left: 10%; animation-delay: 0s;"></div>
    <div class="particle" style="width: 6px; height: 6px; top: 60%; left: 80%; animation-delay: 2s;"></div>
    <div class="particle" style="width: 3px; height: 3px; top: 40%; left: 90%; animation-delay: 4s;"></div>
    <div class="particle" style="width: 5px; height: 5px; top: 80%; left: 20%; animation-delay: 1s;"></div>
    <div class="particle" style="width: 4px; height: 4px; top: 10%; left: 70%; animation-delay: 3s;"></div>
    <div class="particle" style="width: 7px; height: 7px; top: 70%; left: 50%; animation-delay: 5s;"></div>
  </div>
  <div class="scanlines"></div>

  <div class="w-full max-w-[1180px] space-y-4" style="overflow-x: hidden; box-sizing: border-box; margin: 0 auto;">
    <!-- Mobile Banner -->
    <div class="mobile-banner">
      <div class="mobile-banner-text">üé≠ Your Premium Entry Pass ‚Äî save or screenshot this page for entry üéµ</div>
    </div>

    <!-- states -->
    <div id="loading" class="text-center text-white/80 noprint">
      <div class="flex items-center justify-center gap-3">
        <div class="animate-spin text-2xl">üîç</div>
        <div class="text-lg animate-pulse">Verifying your magical pass details‚Ä¶</div>
      </div>
      <div class="mt-2 text-sm text-white/60 animate-bounce">‚ú® Please wait while we work our magic ‚ú®</div>
    </div>
    <div id="notFound" class="hidden text-center noprint">
      <div class="bg-gradient-to-br from-red-500/20 to-pink-500/20 border border-red-500/30 rounded-xl p-6 backdrop-blur-sm">
        <div class="text-4xl mb-3 animate-bounce">üö´</div>
        <div class="text-white text-xl font-semibold mb-2">Oops! Pass Not Found</div>
        <div class="text-pink-200 mb-3">QR ID: <span id="badId" class="font-mono bg-black/30 px-2 py-1 rounded"></span></div>
        <div class="text-sm text-white/70">üé≠ This pass seems to have vanished into thin air!</div>
      </div>
    </div>

    <!-- PASS -->
    <div id="pass" class="hidden">
      <div class="pass-wrap">
        <div class="pass" id="card">
          <div class="perforate"></div>
          <div class="grid3">
            <!-- MOBILE EVENT HEADER -->
            <div class="mobile-event-header">
              <div class="mobile-brand" id="mobileBrandTop">Shifoyage Presents</div>
              <div class="mobile-title">shifoyage</div>
              <div class="mobile-subtitle">Swar-e SAFAR jamming</div>
              <div class="mobile-poster-img" id="mobilePosterImg2"></div>
            </div>

            <!-- MOBILE QR SECTION -->
            <div class="mobile-qr-section">
              <div class="mobile-qr-label">üîÆ CHECK-IN AFTER ENTERING THE VENUE üîÆ</div>
              <div class="mobile-qr-frame">
                <div id="qrBox"></div>
              </div>
              <div class="mobile-ticket-id">üé´ Ticket ID: <span id="qrStub"></span></div>

              <div class="mobile-actions">
                <button id="btnShare" class="btn">üì§ Share</button>
                <button id="btnCalendar" class="btn">üìÖ Add to Calendar</button>
              </div>

              <div style="margin-top: 14px; font-size: 12px; color: rgba(255,255,255,0.75); text-align: center;">
                üíñ Come with an open heart and a spirit of togetherness üåü
              </div>
            </div>

            <!-- MOBILE DETAILS SECTION -->
            <div class="mobile-details-section">
              <div class="mobile-day">SUNDAY</div>
              <div class="mobile-date" id="mobileDateNum">21.09.2025</div>
              <div class="mobile-venue">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5.5z"/></svg>
                <div class="mobile-venue-text" id="mobileVenueTxt">Chai Kaapi, E 3 Arera Colony, Bhopal</div>
              </div>
            </div>

            <!-- DESKTOP SECTIONS -->
            <aside class="stub">
              <div class="chip">‚ú® Open Seating</div>
              <div class="qr-wrap">
                <div class="qr-label">üîÆ CHECK-IN AFTER ENTERING THE VENUE üîÆ</div>
                <div class="qr-frame"><div id="qrBoxDesktop"></div></div>
                <div class="ticket-meta">
                  <div class="muted">üé´ TICKET ID</div>
                  <div id="qrStubDesktop" class="font-mono font-semibold"></div>
                  <div class="muted">üé≠ shifoyage</div>
                </div>
              </div>
              <div class="mobile-poster" id="mobilePosterImg"></div>
              <div class="stub-msg">üíñ Please come with an open heart and a spirit of togetherness ‚Äî that's all you need to truly experience the event. üåü</div>
            </aside>

            <main class="center">
              <div class="guilloche"></div>
              <div class="brandline"><span id="brandTop">Shifoyage</span><span>Presents</span></div>
              <div class="headline">
                <div class="simple-title" id="brandTitle">shifoyage</div>
              </div>
              <div class="sub">With special performances</div>
              <div class="sub" id="attendeeName" style="display:none"></div>
              <div class="kvs">
                <div class="day">SUNDAY</div>
                <div id="dateNum" class="dnum">21.09.2025</div>
                <div class="venue">
                  <svg class="pin" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7zm0 9.5A2.5 2.5 0 1 1 12 6a2.5 2.5 0 0 1 0 5.5z"/></svg>
                  <span id="venueTxt">Chai Kaapi, E 3 Arera Colony, Bhopal</span>
                </div>
              </div>
            </main>

            <section class="poster">
              <div id="posterImg" class="img" style="background-image:url('1.jpeg')"></div>
              <div class="veil"></div>
              <div class="holo" id="holoSeal" data-tier="GENERAL"></div>
              <div class="content">
                <div id="brandCorner" class="brand-corner">Shifoyage</div>
                <div class="ptitle">
                  <div class="p-swar">Swar-e</div>
                  <div class="p-safar">SAFAR</div>
                  <div class="p-jam">jamming</div>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>

  </div>

  <script>
    /* Demo dataset (replace with Firestore/API) */
    const attendees = [
      { id:"12345678", fullName:"John Doe", qrId:"QR12345678" },
      { id:"87654321", fullName:"Jane Smith", qrId:"QR87654321" },
      { id:"11223344", fullName:"Rahul Sharma", qrId:"QR11223344" },
      { id:"55667788", fullName:"Priya Patel", qrId:"QR55667788" },
      { id:"99887766", fullName:"Amit Kumar", qrId:"QR99887766" }
    ];

    const $ = s => document.querySelector(s);
    const qs = new URLSearchParams(location.search);
    const qrId = (qs.get("qrId")||"").trim();
    const brand = qs.get("brand") || "Shifoyage";
    const dateStr = qs.get("date") || "21.09.2025"; // dd.mm.yyyy
    const venue = qs.get("venue") || "Chai Kaapi, E3 Arera Colony, Bhopal";
    const poster = qs.get("poster");
    const tier = (qs.get("tier") || "GENERAL").toUpperCase();
    const name = qs.get("name");

    function show(id){ $(id).classList.remove("hidden"); }
    function hide(id){ $(id).classList.add("hidden"); }

    /* Confetti animation */
    function createConfetti() {
      const colors = ['#FF1FB6', '#00FFFF', '#39FF14', '#FFD166', '#FF6B6B', '#4ECDC4'];
      for (let i = 0; i < 40; i++) {
        const confetti = document.createElement('div');
        confetti.className = 'confetti';
        confetti.style.left = Math.random() * 100 + '%';
        confetti.style.background = colors[(Math.random() * colors.length)|0];
        confetti.style.animationDelay = (Math.random() * 2.5) + 's';
        confetti.style.animationDuration = (Math.random() * 2 + 2.2) + 's';
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 4500);
      }
    }

    /* QR render (SVG) */
    function renderQR(qrId, boxId){
      const box = document.getElementById(boxId);
      box.innerHTML = "";
      try{
        const qr = qrcode(0, 'H');
        const verificationUrl = `https://shifoyage-event-verification-system.vercel.app/verify-checkin?qrId=${encodeURIComponent(qrId)}`;
        qr.addData(verificationUrl);
        qr.make();
        const svg = qr.createSvgTag(8, 3, "#000000", "#FFFFFF");
        box.innerHTML = svg;
        const el = box.querySelector("svg");
        if(el){
          el.setAttribute("aria-label","QR code");
          el.setAttribute("role","img");
          el.style.display = "block";
          el.style.borderRadius = "12px";
          el.style.background = "#FFFFFF";
        }
      }catch(err){
        box.innerHTML = '<div style="width:185px;height:185px;background:#fff;border:2px solid #ccc;display:grid;place-items:center;font:12px/1 Inter;color:#666">QR Error</div>';
      }
    }

    /* Parallax tilt (mouse + gyro) */
    (function tilt(){
      const card = $("#card");
      let px = 0, py = 0;
      function apply(x, y){
        card.style.transform = `rotateX(${y}deg) rotateY(${x}deg)`;
      }
      card.addEventListener("mousemove", (e)=>{
        const r = card.getBoundingClientRect();
        const cx = e.clientX - r.left, cy = e.clientY - r.top;
        px = ((cx / r.width) - 0.5) * -6;
        py = ((cy / r.height) - 0.5) * 6;
        apply(px, py);
      });
      card.addEventListener("mouseleave", ()=>{ card.style.transform = ""; });

      if (window.DeviceOrientationEvent) {
        window.addEventListener("deviceorientation", (ev)=>{
          const gamma = Math.max(-15, Math.min(15, ev.gamma || 0));
          const beta  = Math.max(-15, Math.min(15, ev.beta  || 0));
          apply(gamma/6, -beta/10);
        }, { passive:true });
      }
    })();

    /* Share + Calendar helpers */
    function parseDateDDMMYYYY(ddot){
      const [d,m,y] = ddot.split('.').map(s=>parseInt(s,10));
      const pad = n => String(n).padStart(2,'0');
      return { y, m:pad(m), d:pad(d) };
    }
    function makeICS({title, start, end, location, desc}){
      const lines = [
        "BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Shifoyage//Pass//EN","BEGIN:VEVENT",
        `UID:${Date.now()}@shifoyage`,
        `DTSTAMP:${new Date().toISOString().replace(/[-:]/g,'').replace(/\.\d+Z/,'Z')}`,
        `DTSTART:${start}`, `DTEND:${end}`,
        `SUMMARY:${title}`, `LOCATION:${location}`, `DESCRIPTION:${desc}`,
        "END:VEVENT","END:VCALENDAR"
      ];
      return "data:text/calendar;charset=utf-8,"+encodeURIComponent(lines.join("\r\n"));
    }

    function init(){
      // Desktop/Mobile text bindings
      $("#brandTop").textContent = brand;
      $("#brandCorner").textContent = brand;
      $("#brandTitle").textContent = brand.toLowerCase();
      $("#mobileBrandTop").textContent = `${brand} Presents`;
      $("#dateNum").textContent = dateStr;
      $("#mobileDateNum").textContent = dateStr;
      $("#venueTxt").textContent = venue;
      $("#mobileVenueTxt").textContent = venue;

      if (poster){
        $("#posterImg").style.backgroundImage = `url('${poster}')`;
        $("#mobilePosterImg").style.backgroundImage = `url('${poster}')`;
        $("#mobilePosterImg2").style.backgroundImage = `url('${poster}')`;
      }

      const holo = $("#holoSeal"); holo.dataset.tier = tier;
      if(tier === "VIP"){ holo.style.setProperty("filter","drop-shadow(0 0 10px rgba(255, 209, 102, .75))"); }

      if(name){
        const el = $("#attendeeName");
        el.style.display = "block";
        el.textContent = `Issued to: ${name}`;
      }

      if(!qrId){
        hide("#loading"); show("#notFound"); $("#badId").textContent = "No QR ID in URL"; return;
      }

      setTimeout(()=>{
        hide("#loading");
        $("#qrStub").textContent = qrId;
        $("#qrStubDesktop").textContent = qrId;
        renderQR(qrId, "qrBox");
        renderQR(qrId, "qrBoxDesktop");
        show("#pass");

        setTimeout(() => {
          $("#card").classList.add("verified");
          createConfetti();
        }, 450);

        // Share
        $("#btnShare")?.addEventListener("click", async ()=>{
          const shareUrl = location.href;
          if (navigator.share){
            try{ await navigator.share({ title:`${brand} ‚Äî Entry Pass`, text:`My pass (${qrId})`, url: shareUrl }); }catch{}
          } else {
            navigator.clipboard?.writeText(shareUrl);
            alert("Link copied!");
          }
        });

        // Calendar
        $("#btnCalendar")?.addEventListener("click", ()=>{
          const {y,m,d} = parseDateDDMMYYYY(dateStr);
          // Default 18:00‚Äì21:00 local (floating time)
          const start = `${y}${m}${d}T180000`;
          const end   = `${y}${m}${d}T210000`;
          const href = makeICS({
            title: `${brand} ‚Äî Swar-e SAFAR jamming`,
            start, end, location: venue,
            desc: `Show this QR on entry. Ticket: ${qrId}`
          });
          const a = document.createElement('a');
          a.href = href; a.download = `${brand}-pass-${qrId}.ics`; a.click();
        });

      }, 700);
    }

    document.addEventListener("DOMContentLoaded", init);
  </script>
</body>
</html>
